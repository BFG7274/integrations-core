{
    "title": "ActiveMQ - Queue & Broker overview",
    "author_name": "Datadog",
    "description": "This dashboard shows trends in the number of messages enqueued, dequeued, and dispatched so you can understand the status and throughput of your message brokers. For more information about ActiveMQ:\n\n- [ActiveMQ architecture and key metrics](https://www.datadoghq.com/blog/activemq-architecture-and-metrics/)\n\n- [Built-in and open source tools for collecting ActiveMQ metrics](https://www.datadoghq.com/blog/collecting-activemq-metrics/)\n\n- [Monitoring ActiveMQ with Datadog](https://www.datadoghq.com/blog/monitoring-activemq-with-datadog/)\n\n- [ActiveMQ integration documentation](https://docs.datadoghq.com/integrations/activemq/)\n\nClone this template dashboard to make changes and add your own graph widgets.",
    "widgets": [
        {
            "id": 6099500872459042,
            "definition": {
                "title": "Queue",
                "type": "group",
                "background_color": "orange",
                "layout_type": "ordered",
                "widgets": [
                    {
                        "id": 2457407978948996,
                        "definition": {
                            "title": "Queue Status",
                            "title_size": "13",
                            "title_align": "center",
                            "time": {
                                "live_span": "10m"
                            },
                            "type": "check_status",
                            "check": "activemq.can_connect",
                            "grouping": "cluster",
                            "group_by": [],
                            "tags": [
                                "*"
                            ]
                        },
                        "layout": {
                            "x": 0,
                            "y": 0,
                            "width": 2,
                            "height": 2
                        }
                    },
                    {
                        "id": 8193864697976316,
                        "definition": {
                            "title": "Queue size",
                            "title_size": "16",
                            "title_align": "left",
                            "show_legend": false,
                            "legend_layout": "auto",
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "type": "timeseries",
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "formula": "query1",
                                            "alias": "Queue size"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "queries": [
                                        {
                                            "query": "sum:activemq.queue.size{$host} by {queue}",
                                            "data_source": "metrics",
                                            "name": "query1"
                                        }
                                    ],
                                    "style": {
                                        "palette": "orange"
                                    },
                                    "display_type": "bars"
                                }
                            ],
                            "yaxis": {
                                "scale": "linear",
                                "label": "",
                                "include_zero": true,
                                "min": "auto",
                                "max": "auto"
                            },
                            "markers": []
                        },
                        "layout": {
                            "x": 2,
                            "y": 0,
                            "width": 5,
                            "height": 2
                        }
                    },
                    {
                        "id": 2418063191482452,
                        "definition": {
                            "title": "% Queue memory used/s",
                            "title_size": "16",
                            "title_align": "left",
                            "show_legend": false,
                            "legend_layout": "auto",
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "type": "timeseries",
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "formula": "per_second(query1)",
                                            "alias": "Memory %"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "on_right_yaxis": false,
                                    "queries": [
                                        {
                                            "query": "sum:activemq.queue.memory_pct{$host} by {host}",
                                            "data_source": "metrics",
                                            "name": "query1"
                                        }
                                    ],
                                    "style": {
                                        "palette": "warm"
                                    },
                                    "display_type": "area"
                                }
                            ],
                            "yaxis": {
                                "scale": "linear",
                                "label": "",
                                "include_zero": true,
                                "min": "auto",
                                "max": "auto"
                            },
                            "markers": []
                        },
                        "layout": {
                            "x": 7,
                            "y": 0,
                            "width": 5,
                            "height": 2
                        }
                    },
                    {
                        "id": 3848931640826052,
                        "definition": {
                            "title": "Enqueue count",
                            "title_size": "16",
                            "title_align": "left",
                            "show_legend": false,
                            "legend_layout": "auto",
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "type": "timeseries",
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "formula": "query1",
                                            "alias": "Enqueue count"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "on_right_yaxis": false,
                                    "queries": [
                                        {
                                            "query": "sum:activemq.queue.enqueue_count{type:broker,$host} by {host}",
                                            "data_source": "metrics",
                                            "name": "query1"
                                        }
                                    ],
                                    "style": {
                                        "palette": "dog_classic"
                                    },
                                    "display_type": "bars"
                                }
                            ],
                            "yaxis": {
                                "scale": "linear",
                                "label": "",
                                "include_zero": true,
                                "min": "auto",
                                "max": "auto"
                            },
                            "markers": []
                        },
                        "layout": {
                            "x": 0,
                            "y": 2,
                            "width": 6,
                            "height": 2
                        }
                    },
                    {
                        "id": 7097883670651702,
                        "definition": {
                            "title": "Dequeue count",
                            "title_size": "16",
                            "title_align": "left",
                            "show_legend": false,
                            "legend_layout": "auto",
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "type": "timeseries",
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "formula": "query1",
                                            "alias": "Dequeue count"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "on_right_yaxis": false,
                                    "queries": [
                                        {
                                            "query": "sum:activemq.queue.dequeue_count{$host} by {queue}",
                                            "data_source": "metrics",
                                            "name": "query1"
                                        }
                                    ],
                                    "style": {
                                        "palette": "orange"
                                    },
                                    "display_type": "bars"
                                }
                            ],
                            "yaxis": {
                                "scale": "linear",
                                "label": "",
                                "include_zero": true,
                                "min": "auto",
                                "max": "auto"
                            },
                            "markers": []
                        },
                        "layout": {
                            "x": 6,
                            "y": 2,
                            "width": 6,
                            "height": 2
                        }
                    },
                    {
                        "id": 1355631623113026,
                        "definition": {
                            "title": "Enqueue time",
                            "title_size": "16",
                            "title_align": "left",
                            "show_legend": false,
                            "legend_layout": "auto",
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "type": "timeseries",
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "formula": "query1",
                                            "alias": "Enqueue time"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "queries": [
                                        {
                                            "query": "avg:activemq.queue.avg_enqueue_time{$host} by {host}",
                                            "data_source": "metrics",
                                            "name": "query1"
                                        }
                                    ],
                                    "style": {
                                        "palette": "dog_classic",
                                        "line_type": "solid",
                                        "line_width": "normal"
                                    },
                                    "display_type": "line"
                                }
                            ],
                            "yaxis": {
                                "scale": "log",
                                "include_zero": false
                            },
                            "markers": []
                        },
                        "layout": {
                            "x": 0,
                            "y": 4,
                            "width": 6,
                            "height": 2
                        }
                    },
                    {
                        "id": 4220052309462414,
                        "definition": {
                            "title": "Dispatch count",
                            "title_size": "16",
                            "title_align": "left",
                            "show_legend": false,
                            "legend_layout": "auto",
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "type": "timeseries",
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "formula": "query1",
                                            "alias": "Dispatch count"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "on_right_yaxis": false,
                                    "queries": [
                                        {
                                            "query": "avg:activemq.queue.dispatch_count{$host} by {host}",
                                            "data_source": "metrics",
                                            "name": "query1"
                                        }
                                    ],
                                    "style": {
                                        "palette": "dog_classic"
                                    },
                                    "display_type": "bars"
                                }
                            ],
                            "yaxis": {
                                "scale": "linear",
                                "label": "",
                                "include_zero": true,
                                "min": "auto",
                                "max": "auto"
                            },
                            "markers": []
                        },
                        "layout": {
                            "x": 6,
                            "y": 4,
                            "width": 6,
                            "height": 2
                        }
                    },
                    {
                        "id": 5176121453417322,
                        "definition": {
                            "title": "Expired count",
                            "title_size": "16",
                            "title_align": "left",
                            "show_legend": false,
                            "legend_layout": "auto",
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "type": "timeseries",
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "formula": "query1",
                                            "alias": "Expired count"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "on_right_yaxis": false,
                                    "queries": [
                                        {
                                            "query": "sum:activemq.queue.expired_count{$host}",
                                            "data_source": "metrics",
                                            "name": "query1"
                                        }
                                    ],
                                    "style": {
                                        "palette": "dog_classic"
                                    },
                                    "display_type": "bars"
                                }
                            ],
                            "yaxis": {
                                "scale": "linear",
                                "label": "",
                                "include_zero": true,
                                "min": "auto",
                                "max": "auto"
                            },
                            "markers": []
                        },
                        "layout": {
                            "x": 0,
                            "y": 6,
                            "width": 6,
                            "height": 2
                        }
                    },
                    {
                        "id": 4548799975950908,
                        "definition": {
                            "title": "In flight count",
                            "title_size": "16",
                            "title_align": "left",
                            "show_legend": false,
                            "legend_layout": "auto",
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "type": "timeseries",
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "formula": "query1",
                                            "alias": "In flight count"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "on_right_yaxis": false,
                                    "queries": [
                                        {
                                            "query": "sum:activemq.queue.in_flight_count{$host} by {host}",
                                            "data_source": "metrics",
                                            "name": "query1"
                                        }
                                    ],
                                    "style": {
                                        "palette": "dog_classic"
                                    },
                                    "display_type": "bars"
                                }
                            ],
                            "yaxis": {
                                "scale": "linear",
                                "label": "",
                                "include_zero": true,
                                "min": "auto",
                                "max": "auto"
                            },
                            "markers": []
                        },
                        "layout": {
                            "x": 6,
                            "y": 6,
                            "width": 6,
                            "height": 2
                        }
                    }
                ]
            }
        },
        {
            "id": 1053735617282876,
            "definition": {
                "title": "Broker",
                "type": "group",
                "background_color": "green",
                "layout_type": "ordered",
                "widgets": [
                    {
                        "id": 5294610999499528,
                        "definition": {
                            "title": "Producers",
                            "title_size": "16",
                            "title_align": "left",
                            "type": "query_value",
                            "requests": [
                                {
                                    "q": "sum:activemq.queue.producer_count{$host}",
                                    "aggregator": "max"
                                }
                            ],
                            "precision": 0
                        },
                        "layout": {
                            "x": 0,
                            "y": 0,
                            "width": 2,
                            "height": 2
                        }
                    },
                    {
                        "id": 5618306023818146,
                        "definition": {
                            "title": "Store, memory and temp usage (in %)",
                            "title_size": "16",
                            "title_align": "left",
                            "show_legend": false,
                            "legend_layout": "auto",
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "type": "timeseries",
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "formula": "query1",
                                            "alias": "Memory %"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "queries": [
                                        {
                                            "query": "avg:activemq.broker.memory_pct{$host}",
                                            "data_source": "metrics",
                                            "name": "query1"
                                        }
                                    ],
                                    "style": {
                                        "palette": "cool"
                                    },
                                    "display_type": "line"
                                },
                                {
                                    "formulas": [
                                        {
                                            "formula": "query1",
                                            "alias": "Store %"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "queries": [
                                        {
                                            "query": "avg:activemq.broker.store_pct{$host}",
                                            "data_source": "metrics",
                                            "name": "query1"
                                        }
                                    ],
                                    "style": {
                                        "palette": "cool"
                                    },
                                    "display_type": "line"
                                },
                                {
                                    "formulas": [
                                        {
                                            "formula": "query1",
                                            "alias": "Temp %"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "queries": [
                                        {
                                            "query": "avg:activemq.broker.temp_pct{$host}",
                                            "data_source": "metrics",
                                            "name": "query1"
                                        }
                                    ],
                                    "style": {
                                        "palette": "cool"
                                    },
                                    "display_type": "line"
                                }
                            ],
                            "yaxis": {
                                "scale": "linear",
                                "label": "",
                                "include_zero": true,
                                "min": "auto",
                                "max": "auto"
                            },
                            "markers": []
                        },
                        "layout": {
                            "x": 2,
                            "y": 0,
                            "width": 10,
                            "height": 4
                        }
                    },
                    {
                        "id": 3870261042672964,
                        "definition": {
                            "title": "Consumers",
                            "title_size": "16",
                            "title_align": "left",
                            "type": "query_value",
                            "requests": [
                                {
                                    "q": "max:activemq.queue.consumer_count{$host}",
                                    "aggregator": "max"
                                }
                            ],
                            "precision": 0
                        },
                        "layout": {
                            "x": 0,
                            "y": 2,
                            "width": 2,
                            "height": 2
                        }
                    }
                ]
            }
        }
    ],
    "template_variables": [
        {
            "name": "host",
            "default": "*",
            "prefix": "host"
        }
    ],
    "layout_type": "ordered",
    "is_read_only": true,
    "notify_list": [],
    "reflow_type": "fixed",
    "id": 29
}