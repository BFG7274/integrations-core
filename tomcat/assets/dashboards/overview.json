{
    "author_name": "Datadog",
    "description": "## Tomcat Integration\n\nThe Tomcat overview dashboard provides a high-level view and insight into your Tomcat server activity, including performance, utilization, and errors.\n\nFor more information on setup and monitoring, check out the following:\n\n- [Tomcat integration docs](https://docs.datadoghq.com/integrations/tomcat/)\n- [Blog post on key metrics for monitoring Tomcat](https://www.datadoghq.com/blog/tomcat-architecture-and-performance/)\n- [Blog post on collecting metrics with Tomcat monitoring tools](https://www.datadoghq.com/blog/tomcat-monitoring-tools/)\n- [Blog post on analyzing Tomcat logs and metrics](https://www.datadoghq.com/blog/analyzing-tomcat-logs-and-metrics-with-datadog/)",
    "layout_type": "ordered",
    "title": "Tomcat - Overview",
    "widgets": [
        {
            "id": 4119169358060222,
            "definition": {
                "type": "note",
                "content": "# Readme\n\nUsing this dashboard, you can get a high-level view and understanding of your Tomcat server activity, including performance, utilization, and errors.\n\nFor more information on setup and monitoring, check out the following:\n\n- [Tomcat integration docs](https://docs.datadoghq.com/integrations/tomcat/)\n- [Blog post on key metrics for monitoring Tomcat](https://www.datadoghq.com/blog/tomcat-architecture-and-performance/)\n- [Blog post on collecting metrics with Tomcat monitoring tools](https://www.datadoghq.com/blog/tomcat-monitoring-tools/)\n- [Blog post on analyzing Tomcat logs and metrics](https://www.datadoghq.com/blog/analyzing-tomcat-logs-and-metrics-with-datadog/)\n\nClone this dashboard to make changes and add your own graph widgets.",
                "background_color": "white",
                "font_size": "14",
                "text_align": "left",
                "show_tick": false,
                "tick_pos": "50%",
                "tick_edge": "left"
            },
            "layout": {
                "x": 0,
                "y": 0,
                "width": 4,
                "height": 3
            }
        },
        {
            "id": 1051748789667920,
            "definition": {
                "title": "Overview",
                "reflow_type": "fixed",
                "type": "group",
                "layout_type": "ordered",
                "widgets": [
                    {
                        "id": 6207700556953864,
                        "definition": {
                            "title": "Server can connect",
                            "title_size": "16",
                            "title_align": "center",
                            "type": "check_status",
                            "check": "tomcat.can_connect",
                            "grouping": "cluster",
                            "group": "$host",
                            "group_by": [
                                "host"
                            ],
                            "tags": [
                                "$host"
                            ]
                        },
                        "layout": {
                            "x": 0,
                            "y": 0,
                            "width": 2,
                            "height": 2
                        }
                    },
                    {
                        "id": 4926734957335396,
                        "definition": {
                            "title": "% of max heap",
                            "title_size": "16",
                            "title_align": "left",
                            "type": "query_value",
                            "requests": [
                                {
                                    "q": "(sum:jvm.heap_memory{*}/sum:jvm.heap_memory_max{*})*100",
                                    "aggregator": "last",
                                    "conditional_formats": [
                                        {
                                            "comparator": ">",
                                            "palette": "black_on_light_red",
                                            "value": 80
                                        },
                                        {
                                            "comparator": ">=",
                                            "palette": "black_on_light_yellow",
                                            "value": 51
                                        },
                                        {
                                            "comparator": "<",
                                            "palette": "black_on_light_green",
                                            "value": 50
                                        }
                                    ]
                                }
                            ],
                            "autoscale": true,
                            "custom_unit": "%",
                            "precision": 0
                        },
                        "layout": {
                            "x": 2,
                            "y": 0,
                            "width": 2,
                            "height": 2
                        }
                    },
                    {
                        "id": 5833900934884076,
                        "definition": {
                            "title": "% of max threads",
                            "title_size": "16",
                            "title_align": "left",
                            "type": "query_value",
                            "requests": [
                                {
                                    "q": "(sum:tomcat.threads.busy{*}/sum:tomcat.threads.max{*})*100",
                                    "aggregator": "last",
                                    "conditional_formats": [
                                        {
                                            "comparator": ">",
                                            "palette": "black_on_light_red",
                                            "value": 80
                                        },
                                        {
                                            "comparator": ">=",
                                            "palette": "black_on_light_yellow",
                                            "value": 50
                                        },
                                        {
                                            "comparator": "<",
                                            "palette": "black_on_light_green",
                                            "value": 49
                                        }
                                    ]
                                }
                            ],
                            "autoscale": true,
                            "custom_unit": "%",
                            "precision": 0
                        },
                        "layout": {
                            "x": 4,
                            "y": 0,
                            "width": 2,
                            "height": 2
                        }
                    },
                    {
                        "id": 1941945703480454,
                        "definition": {
                            "type": "note",
                            "content": "Percentage of threads in use calculated from the set max threads.\n\n- Red if > 80%\n- Yellow if >= 50%\n- Green if < 49%\n",
                            "background_color": "transparent",
                            "font_size": "12",
                            "text_align": "left",
                            "show_tick": false,
                            "tick_pos": "50%",
                            "tick_edge": "left"
                        },
                        "layout": {
                            "x": 6,
                            "y": 0,
                            "width": 2,
                            "height": 2
                        }
                    }
                ]
            },
            "layout": {
                "x": 4,
                "y": 0,
                "width": 8,
                "height": 3
            }
        },
        {
            "id": 8872961254373240,
            "definition": {
                "title": "Performance",
                "reflow_type": "fixed",
                "type": "group",
                "layout_type": "ordered",
                "widgets": [
                    {
                        "id": 8536291398921956,
                        "definition": {
                            "type": "note",
                            "content": "The number of client requests hitting your server. Request counts provide a baseline for understanding the levels of traffic to your server throughout the day.",
                            "background_color": "green",
                            "font_size": "12",
                            "text_align": "left",
                            "show_tick": true,
                            "tick_pos": "25%",
                            "tick_edge": "right"
                        },
                        "layout": {
                            "x": 0,
                            "y": 0,
                            "width": 2,
                            "height": 3
                        }
                    },
                    {
                        "id": 667414087165830,
                        "definition": {
                            "title": "Requests per second",
                            "title_size": "16",
                            "title_align": "left",
                            "show_legend": false,
                            "legend_size": "0",
                            "legend_layout": "auto",
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "type": "timeseries",
                            "requests": [
                                {
                                    "q": "per_second(sum:tomcat.request_count{$host,$scope})",
                                    "style": {
                                        "palette": "green",
                                        "line_type": "solid",
                                        "line_width": "normal"
                                    },
                                    "display_type": "line"
                                }
                            ],
                            "yaxis": {
                                "scale": "linear",
                                "label": "",
                                "include_zero": true,
                                "min": "auto",
                                "max": "auto"
                            },
                            "markers": []
                        },
                        "layout": {
                            "x": 2,
                            "y": 0,
                            "width": 4,
                            "height": 2
                        }
                    },
                    {
                        "id": 3401039036815182,
                        "definition": {
                            "title": "Request processing time",
                            "title_size": "16",
                            "title_align": "left",
                            "show_legend": false,
                            "legend_size": "0",
                            "legend_layout": "auto",
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "type": "timeseries",
                            "requests": [
                                {
                                    "q": "sum:tomcat.processing_time{$host,$scope}",
                                    "style": {
                                        "palette": "purple",
                                        "line_type": "solid",
                                        "line_width": "normal"
                                    },
                                    "display_type": "bars"
                                }
                            ],
                            "yaxis": {
                                "scale": "linear",
                                "label": "",
                                "include_zero": true,
                                "min": "auto",
                                "max": "auto"
                            },
                            "markers": []
                        },
                        "layout": {
                            "x": 6,
                            "y": 0,
                            "width": 4,
                            "height": 2
                        }
                    },
                    {
                        "id": 4016470968177076,
                        "definition": {
                            "type": "note",
                            "content": "The sum of request processing times across all requests handled by the request processors (in milliseconds) per second.",
                            "background_color": "purple",
                            "font_size": "12",
                            "text_align": "left",
                            "show_tick": true,
                            "tick_pos": "25%",
                            "tick_edge": "left"
                        },
                        "layout": {
                            "x": 10,
                            "y": 0,
                            "width": 2,
                            "height": 3
                        }
                    },
                    {
                        "id": 8026466688776692,
                        "definition": {
                            "title": "Bytes sent and received rate (per sec)",
                            "title_size": "16",
                            "title_align": "left",
                            "show_legend": false,
                            "legend_size": "0",
                            "legend_layout": "auto",
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "type": "timeseries",
                            "requests": [
                                {
                                    "q": "sum:tomcat.bytes_sent{$scope}",
                                    "style": {
                                        "palette": "dog_classic",
                                        "line_type": "solid",
                                        "line_width": "normal"
                                    },
                                    "display_type": "line"
                                },
                                {
                                    "q": "-sum:tomcat.bytes_rcvd{$scope}",
                                    "style": {
                                        "palette": "dog_classic",
                                        "line_type": "solid",
                                        "line_width": "normal"
                                    },
                                    "display_type": "line"
                                }
                            ],
                            "yaxis": {
                                "scale": "linear",
                                "label": "",
                                "include_zero": true,
                                "min": "auto",
                                "max": "auto"
                            },
                            "markers": []
                        },
                        "layout": {
                            "x": 2,
                            "y": 2,
                            "width": 4,
                            "height": 2
                        }
                    },
                    {
                        "id": 3591743959569616,
                        "definition": {
                            "title": "Average processing time",
                            "title_size": "16",
                            "title_align": "left",
                            "show_legend": false,
                            "legend_size": "0",
                            "legend_layout": "auto",
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "type": "timeseries",
                            "requests": [
                                {
                                    "q": "avg:tomcat.processing_time{$scope}",
                                    "style": {
                                        "palette": "dog_classic",
                                        "line_type": "solid",
                                        "line_width": "normal"
                                    },
                                    "display_type": "line"
                                }
                            ],
                            "yaxis": {
                                "scale": "linear",
                                "label": "",
                                "include_zero": true,
                                "min": "auto",
                                "max": "auto"
                            },
                            "markers": []
                        },
                        "layout": {
                            "x": 6,
                            "y": 2,
                            "width": 4,
                            "height": 2
                        }
                    }
                ]
            }
        },
        {
            "id": 1968977262088606,
            "definition": {
                "title": "Utilization",
                "reflow_type": "fixed",
                "type": "group",
                "layout_type": "ordered",
                "widgets": [
                    {
                        "id": 5555195778155078,
                        "definition": {
                            "title": "Busy vs. idle worker threads",
                            "title_size": "16",
                            "title_align": "left",
                            "show_legend": true,
                            "legend_size": "0",
                            "legend_layout": "auto",
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "type": "timeseries",
                            "requests": [
                                {
                                    "q": "sum:tomcat.threads.max{$host,$scope}, sum:tomcat.threads.busy{$host,$scope}, sum:tomcat.threads.count{$host,$scope}",
                                    "style": {
                                        "palette": "cool",
                                        "line_type": "solid",
                                        "line_width": "normal"
                                    },
                                    "display_type": "line"
                                }
                            ],
                            "yaxis": {
                                "scale": "linear",
                                "label": "",
                                "include_zero": true,
                                "min": "auto",
                                "max": "auto"
                            },
                            "markers": []
                        },
                        "layout": {
                            "x": 0,
                            "y": 0,
                            "width": 4,
                            "height": 3
                        }
                    },
                    {
                        "id": 1351434063096280,
                        "definition": {
                            "title": "Request rate per host",
                            "title_size": "16",
                            "title_align": "left",
                            "type": "toplist",
                            "requests": [
                                {
                                    "q": "top(avg:tomcat.request_count{$host,$scope} by {host}, 10, 'mean', 'desc')"
                                }
                            ]
                        },
                        "layout": {
                            "x": 4,
                            "y": 0,
                            "width": 2,
                            "height": 3
                        }
                    },
                    {
                        "id": 6763098129941914,
                        "definition": {
                            "type": "note",
                            "content": "Since the number of available threads directly affects how efficiently Tomcat can process requests, monitoring thread usage is important for understanding request throughput and processing times for the server.",
                            "background_color": "white",
                            "font_size": "12",
                            "text_align": "left",
                            "show_tick": true,
                            "tick_pos": "50%",
                            "tick_edge": "top"
                        },
                        "layout": {
                            "x": 0,
                            "y": 3,
                            "width": 4,
                            "height": 2
                        }
                    },
                    {
                        "id": 2030035462462136,
                        "definition": {
                            "title": "Max processing time per host",
                            "title_size": "16",
                            "title_align": "left",
                            "type": "toplist",
                            "requests": [
                                {
                                    "q": "top(max:tomcat.max_time{$host,$scope} by {host}, 10, 'max', 'desc')"
                                }
                            ]
                        },
                        "layout": {
                            "x": 4,
                            "y": 3,
                            "width": 2,
                            "height": 2
                        }
                    }
                ]
            },
            "layout": {
                "x": 0,
                "y": 0,
                "width": 6,
                "height": 6
            }
        },
        {
            "id": 273973929660372,
            "definition": {
                "title": "JVM Memory Usage",
                "reflow_type": "fixed",
                "type": "group",
                "layout_type": "ordered",
                "widgets": [
                    {
                        "id": 1080161188772122,
                        "definition": {
                            "title": "Heap memory usage",
                            "title_size": "16",
                            "title_align": "left",
                            "show_legend": true,
                            "legend_layout": "auto",
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "type": "timeseries",
                            "requests": [
                                {
                                    "q": "avg:jvm.heap_memory_max{$host,$scope}, avg:jvm.heap_memory{$host,$scope}",
                                    "on_right_yaxis": false,
                                    "style": {
                                        "palette": "cool",
                                        "line_type": "solid",
                                        "line_width": "normal"
                                    },
                                    "display_type": "line"
                                }
                            ],
                            "yaxis": {
                                "scale": "linear",
                                "label": "",
                                "include_zero": true,
                                "min": "auto",
                                "max": "auto"
                            },
                            "markers": []
                        },
                        "layout": {
                            "x": 0,
                            "y": 0,
                            "width": 4,
                            "height": 3
                        }
                    },
                    {
                        "id": 6827582318948558,
                        "definition": {
                            "type": "note",
                            "content": "Tomcat (and your servlets) rely on having enough available memory to operate efficiently, so it’s important to also keep track of the memory usage of your JVM.",
                            "background_color": "green",
                            "font_size": "12",
                            "text_align": "left",
                            "show_tick": true,
                            "tick_pos": "50%",
                            "tick_edge": "left"
                        },
                        "layout": {
                            "x": 4,
                            "y": 0,
                            "width": 2,
                            "height": 3
                        }
                    },
                    {
                        "id": 6304689615169788,
                        "definition": {
                            "title": "GC count per minute",
                            "title_size": "16",
                            "title_align": "left",
                            "show_legend": false,
                            "legend_size": "0",
                            "legend_layout": "auto",
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "type": "timeseries",
                            "requests": [
                                {
                                    "q": "per_minute(sum:jvm.gc.cms.count{$host,$scope})",
                                    "on_right_yaxis": false,
                                    "style": {
                                        "palette": "dog_classic",
                                        "line_type": "solid",
                                        "line_width": "normal"
                                    },
                                    "display_type": "area"
                                }
                            ],
                            "yaxis": {
                                "scale": "linear",
                                "label": "",
                                "include_zero": true,
                                "min": "auto",
                                "max": "auto"
                            },
                            "markers": []
                        },
                        "layout": {
                            "x": 0,
                            "y": 3,
                            "width": 4,
                            "height": 2
                        }
                    },
                    {
                        "id": 190293842360772,
                        "definition": {
                            "type": "note",
                            "content": "A sudden spike in garbage collection count could indicate a memory leak.",
                            "background_color": "blue",
                            "font_size": "12",
                            "text_align": "left",
                            "show_tick": true,
                            "tick_pos": "50%",
                            "tick_edge": "left"
                        },
                        "layout": {
                            "x": 4,
                            "y": 3,
                            "width": 2,
                            "height": 2
                        }
                    }
                ]
            },
            "layout": {
                "x": 6,
                "y": 0,
                "width": 6,
                "height": 6
            }
        },
        {
            "id": 1394157946923980,
            "definition": {
                "title": "Errors",
                "reflow_type": "fixed",
                "type": "group",
                "layout_type": "ordered",
                "widgets": [
                    {
                        "id": 1614105163128656,
                        "definition": {
                            "title": "Error rate",
                            "title_size": "16",
                            "title_align": "left",
                            "show_legend": false,
                            "legend_size": "0",
                            "legend_layout": "auto",
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "type": "timeseries",
                            "requests": [
                                {
                                    "q": "sum:tomcat.error_count{$host,$scope}",
                                    "style": {
                                        "palette": "warm",
                                        "line_type": "solid",
                                        "line_width": "normal"
                                    },
                                    "display_type": "line"
                                }
                            ],
                            "yaxis": {
                                "scale": "linear",
                                "label": "",
                                "include_zero": true,
                                "min": "auto",
                                "max": "auto"
                            },
                            "markers": []
                        },
                        "layout": {
                            "x": 0,
                            "y": 0,
                            "width": 12,
                            "height": 3
                        }
                    }
                ]
            }
        }
    ],
    "template_variables": [
        {
            "name": "host",
            "default": "*",
            "prefix": "host"
        },
        {
            "name": "scope",
            "default": "*",
            "prefix": "scope"
        }
    ],
    "reflow_type": "fixed"
}
